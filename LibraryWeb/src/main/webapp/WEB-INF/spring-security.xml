<?xml version="1.0" encoding="UTF-8"?>
<beans:beans xmlns="http://www.springframework.org/schema/security"
	xmlns:beans="http://www.springframework.org/schema/beans"
	xmlns:jee="http://www.springframework.org/schema/jee"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.springframework.org/schema/beans
			http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
			http://www.springframework.org/schema/jee
			http://www.springframework.org/schema/jee/spring-jee-3.0.xsd
			http://www.springframework.org/schema/security
			http://www.springframework.org/schema/security/spring-security-3.0.3.xsd">
	
	<jee:jndi-lookup id="dataSource" jndi-name="jdbc/LibraryCoreDB"/>
	
	<http auto-config="true">
		<intercept-url pattern='/home.html' filters='none' />
		<intercept-url pattern='/contacts.html' access='ROLE_USER' />
<!-- 		<form-login login-page='/login.html' default-target-url='/home.htm' always-use-default-target='true' /> -->
	</http>
	
<!-- 	<authentication-manager> -->
<!-- 		<authentication-provider> -->
<!-- 			<user-service> -->
<!-- 				<user name="julien" password="123456" authorities="ROLE_USER" /> -->
<!-- 			</user-service> -->
<!-- 		</authentication-provider> -->
<!-- 	</authentication-manager> -->
	
	<authentication-manager>
		<authentication-provider>
			<jdbc-user-service data-source-ref="dataSource"
			users-by-username-query=
	"select login as username, password, '1' as enabled from USER_ACCOUNT where login=?"
			authorities-by-username-query=
	"select login as username, 'ROLE_USER' as authority from USER_ACCOUNT where login=?" />
		</authentication-provider>
	</authentication-manager>
</beans:beans>