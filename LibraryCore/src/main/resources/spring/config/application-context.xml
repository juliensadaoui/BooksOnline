<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans" 
	   xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	   xmlns:jaxws="http://cxf.apache.org/jaxws"
	   xmlns:aop="http://www.springframework.org/schema/aop"
	   xmlns:context="http://www.springframework.org/schema/context"
	   xmlns:jee="http://www.springframework.org/schema/jee" 
	   xmlns:tx="http://www.springframework.org/schema/tx"
	   xmlns:task="http://www.springframework.org/schema/task"
    xsi:schemaLocation="
    	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd 
    	http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd
    	http://www.springframework.org/schema/aop http://www.springframework.org/schema/aop/spring-aop-3.0.xsd
   		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
  		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
   		http://www.springframework.org/schema/jee http://www.springframework.org/schema/jee/spring-jee-3.0.xsd
   		http://www.springframework.org/schema/tx http://www.springframework.org/schema/tx/spring-tx-3.0.xsd
   		http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">
 	
 	<context:annotation-config />
 
 	<!-- Auto scan the components -->
	<context:component-scan base-package="com.insta.fjee.library.core.dao.impl" />
	<context:component-scan base-package="com.insta.fjee.library.core.bo.impl" />
	<context:component-scan base-package="com.insta.fjee.library.core.service.ws" />
	
	<jee:jndi-lookup id="dataSource" jndi-name="jdbc/LibraryCoreDB"/> 

	<!-- Database Configuration -->
<!-- 	<import resource="../database/DataSource.xml" /> -->
	<import resource="classpath:/spring/database/Hibernate.xml" />
	
    <!-- importer les fichiers d'application context de CXF  -->
    <import resource="classpath:META-INF/cxf/cxf.xml" />
    <import resource="classpath:META-INF/cxf/cxf-extension-soap.xml" />
    <import resource="classpath:META-INF/cxf/cxf-servlet.xml" />
       
    <!-- Spring manage ServiceBean -->
    <!-- déclarer le bean de service web avec le schéma jaxws fourni par CXF  -->
    <bean id="user" class="com.insta.fjee.library.core.service.ws.UserService" />
     
    <!-- JAX-WS Service Endpoint -->    
    <!-- déclarer les dépendances du bean de service web  -->
    <jaxws:endpoint id="userService" implementor="#user" address="/userService" />
       
</beans>
